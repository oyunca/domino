function ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)}return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}define("dpz.storeAssistanceModule.validations",["dpz.geolocation"],function(p){var f=localStorage.getItem("geocode_store_id");return{validateRadiusDeliverToMe:function(){var u=!0;$.when(p.getUserLocation().current).then(function(e){var t=e.coords,o=t.latitude,r=t.longitude,d=o,l=r;$.when(p.getPermission()).then(function(e){var t=jsDPZ.app.order.getOrder().data,o=(t||{}).Details,c=(o||{}).StoreID,r=t.Customer.Address;if("denied"!==e.state&&""!==r.Street){var n="";if("Delivery"===(null==o?void 0:o.ServiceMethod))n="".concat(r.Street," ").concat(r.Neighborhood," ").concat(r.City);else if("Carryout"===(null==o?void 0:o.ServiceMethod)){var a=jsDPZ.app.store.getStore(c).data.Address,i=a.Street,s=a.City;n="".concat(i," ").concat(s)}require(["googleMapsDependency"],function(e){e.done(function(){(new window.google.maps.Geocoder).geocode({address:n},function(e,t){if(t==window.google.maps.GeocoderStatus.OK){var o={latitude:e[0].geometry.location.lat(),longitude:e[0].geometry.location.lng()},r={latitude:d,longitude:l};p.calculateDistance(o,r)<5||(u=!1),u||f===c||require(["dpz.template","marketconfig/dpz.lang.forms","shared.components"],function(e,t,o){e.translate;var r=o.DistanceValidationModal,n=o.TranslateContext,a=document.querySelector(".js-modalContainer");preact.render(preact.h(n.Provider,{value:dpz.template.getTranslateContextValue(_objectSpread({},t))},preact.h(r,{jsDPZ:jsDPZ,site:site,titleClass:"card--overlay--custom--title",closeButtonClass:"is-hidden",sectionClass:"custom-card--overlay",title:"forms.question_correct_address",textContent:"forms.text_correct_address_modal",textLink:"forms.here_text",closeModal:function(){!function(e){f=e,localStorage.setItem("geocode_store_id",e)}(c),preact.render(null,a)}})),a)})}})})})}})})}}});
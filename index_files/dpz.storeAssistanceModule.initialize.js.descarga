define("dpz.storeAssistanceModule.initialize",["dpz.storeAssistanceModule.props","dpz.storeAssistanceModule.state","dpz.storeAssistanceModule.methods","dpz.storeAssistanceModule.renderer"],function(e,s,t,r){function o(){i(),n().isHotSpot||(l(),jsDPZ.topic("storeAssistanceModule.updated").publish())}var d=e.getServiceMethodFromOrder,c=e.setIsAutoSet,n=s.getState,a=s.setState,i=t.getCurrentOrderInfo,u=t.setServiceMethodFromProfileData,p=r.renderSam,l=function(){jsDPZ.topic("order.service.method.changed").subscribe(function(){var e=jsDPZ.app.order.getOrder().data,s=e.Details.ServiceMethod,t=e.isDucOrder,r=e.isPickupOrder,i=d({isDucOrder:t,isPickupOrder:r,serviceMethodDetail:s});i!==n().serviceMethod&&(c(!1),a({serviceMethodFromOrder:i}),o())}),jsDPZ.topic("login.success").subscribe(function(e){var s=e.Email;u(s)}),jsDPZ.topic("storeAssistanceModule.updated").subscribe(function(){p()})};return{initSamNav:o,initSamHeadless:function(){i(),c(!1)}}});